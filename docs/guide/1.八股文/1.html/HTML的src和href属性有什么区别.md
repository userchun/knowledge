# HTML 的 src 和 href 属性有什么区别？

## 回答重点

- src（source 来源） 指定要加载的资源路径,常出现于<script>、<img>、<video>、<audio>、<iframe>等标签中。 用于加载JavaScript脚本、图像、影响、音频视频或嵌入网页文件

- href（hyperlink reference，超链接引用）指定超链接的目标地址或者定义文档与外部资源的关联，主要用在<a>、<link>、<area>等标签中，用于创建超链接、定义样式表、定义图像映射等。

## 资源加载方式差异

- 当浏览器解析到适用于src属性的标签时，会暂停其他资源的下载和处理，直接将该资源加载，编译并执行。这种方式称之为阻塞加载，所以一般将js脚本放在页面底部（img图片加载和渲染是异步的，不会阻塞HTML解析）
- 当浏览器解析到适用于href属性的标签时，会并行下载资源，不会阻塞页面的渲染。这种方式称之为非阻塞加载，浏览器可以同时处理超链接或者引入样式表，所以一般将css样式放在页面头部

## 扩展知识

### src加载机制

触发立即加载：

- 浏览器解析带有src的元素是，会立即向指定URL发送请求，下载资源并执行。

阻塞情况：

- 对于script，如果没有加上async和defer，浏览器会阻塞页面的渲染，直到下载并执行完脚本。
- 对于img、video、audio等元素，资源加载是异步的，不会阻塞页面的渲染。

### href加载机制

资源引用：

- 浏览器解析带有href的元素时，不会立即下载资源，而是将其作为一个引用，当浏览器需要加载该资源时，会根据href的URL发送请求。

延迟加载：

- 对于a标签，当用户点击链接时，才会触发页面跳转

预加载情况：

### href加载机制

资源引用：

- 对于<link>标签的不同rel属性，浏览器会有不同的处理方式：

立即加载：

- < link rel="stylesheet"/>：会阻塞页面渲染直到CSS文件加载完成

- < link rel="preload">：强制浏览器立即发起请求，优先级较高（用于字体、关键CSS等）
- < link rel="modulepreload">：专门用于预加载ES模块

空闲时加载：

- < link rel="prefetch">：在浏览器空闲时预取资源（优先级最低）
- < link rel="dns-prefetch">：仅提前解析域名

其他常见用途：

- < link rel="icon">：指定网站favicon
- < link rel="alternate">：指定替代内容（如RSS源）
- < link rel="canonical">：指定规范链接（SEO用途）

## src的性能优化

异步加载脚本：

- 使用async属性，将脚本标记为异步加载（与页面解析并行），加载完成后立即执行
- 使用defer属性，将脚本标记为延迟加载（与页面解析并行），执行顺序与页面解析顺序一致，在页面完全加载后执行

图片懒加载：

- 添加loading="lazy"属性，将图片标记为懒加载，图片在视口内加载

CDN优化：

- 使用CDN（内容分发网络），将资源部署到离用户最近的服务器，减少请求延迟

资源压缩：

- 对CSS和JavaScript文件进行压缩，减少文件大小，加快加载速度
- 使用gzip压缩，减少传输数据大小
- 图像转成更高效的格式（如WebP），减少文件大小
