# 1.箭头函数与普通函数有什么区别

## 1.1 定义方式

- 箭头函数是ES6新增的函数定义方式，使用箭头（=>）来定义函数
- 普通函数使用function关键字来定义函数

```js
// 箭头函数
const arrowFunc = () => {
  console.log('This is an arrow function');
};

// 普通函数
function normalFunc() {
  console.log('This is a normal function');
}
```

## 1.2 参数处理

- 箭头函数的参数处理更加简洁，可以省略括号
- 普通函数的参数处理需要使用括号，如果只有一个参数可以省略括号，如果有多个参数需要使用括号

## 1.3 this指向

- 箭头函数的this指向是固定的
- 定义的时候就确定了
- 指向定义时的上下文，从作用于链的上一层继承this

```js
// 箭头函数
const arrowFunc = () => {
  console.log(this); // 指向定义时的上下文
};

// 普通函数
function normalFunc() {
  console.log(this); // 指向调用时的上下文
}
```

## this不可变

- 箭头函数的this指向是不可变的，一旦定义就不能改变
- 普通函数的this指向是可以改变的，可以使用call、apply、bind等方法改变this指向

```ts
// 箭头函数
const arrowFunc = () => {
  console.log(this); // 指向定义时的上下文
};

// 普通函数
const person = {
  name: '小明',
  sayHi: function () {
    console.log(`你好, 我是${this.name}`);
  },
};
const anotherPerson = { name: '小红' };

// 将 person.sayHi 的 this 永久绑定到 anotherPerson
const boundFunc = person.sayHi.bind(anotherPerson);
boundFunc(); // 输出: "你好, 我是小红"
```

## 1.4 arguments对象

- 箭头函数没有arguments对象，可以使用rest参数来代替
- 普通函数有arguments对象，可以获取函数的参数

```js
// 箭头函数
const arrowFunc = (...args) => {
  console.log(args); // 使用rest参数获取函数的参数
};

// 普通函数
function normalFunc() {
  console.log(arguments); // 使用arguments对象获取函数的参数
}
```

## 1.5 返回值

- 箭头函数的返回值可以直接写在箭头后面，不需要使用return关键字
- 普通函数的返回值需要使用return关键字

```js
// 箭头函数
const arrowFunc = () => 'This is an arrow function';

// 普通函数
function normalFunc() {
  return 'This is a normal function';
}
```

## 1.6 不能作为构造函数

- 箭头函数不能作为构造函数，不能使用new关键字来创建实例
- 普通函数可以作为构造函数，可以使用new关键字来创建实例

```js
// 箭头函数
const arrowFunc = () => {
  console.log('This is an arrow function');
};

// 普通函数
function normalFunc() {
  console.log('This is a normal function');
}

// 箭头函数不能作为构造函数
const arrowInstance = new arrowFunc(); // TypeError: arrowFunc is not a constructor

// 普通函数可以作为构造函数
const normalInstance = new normalFunc(); // This is a normal function
```

## 1.7 不能使用yield关键字

- 箭头函数不能使用yield关键字，不能作为Generator函数
- 普通函数可以使用yield关键字，可以作为Generator函数

```js
// 箭头函数
const arrowFunc = () => {
  console.log('This is an arrow function');
};

// 普通函数
function* normalFunc() {
  yield 'This is a normal function';
}

// 箭头函数不能作为Generator函数
const arrowGenerator = arrowFunc(); // TypeError: arrowFunc is not a generator function

// 普通函数可以作为Generator函数
const normalGenerator = normalFunc(); // This is a normal function
```

## 1.8 不能使用super关键字

- 箭头函数不能使用super关键字，不能作为子类
- 普通函数可以使用super关键字，可以作为子类

```js
// 箭头函数
const arrowFunc = () => {
  console.log('This is an arrow function');
};

// 普通函数
class NormalClass {
  constructor() {
    console.log('This is a normal class');
  }
}

// 箭头函数不能作为子类
class ArrowClass extends arrowFunc {} // TypeError: arrowFunc is not a constructor

// 普通函数可以作为子类
class SubClass extends NormalClass {
  constructor() {
    super();
    console.log('This is a subclass');
  }
}
```
